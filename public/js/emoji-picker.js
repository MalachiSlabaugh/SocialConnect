// Emoji data
const emojiData = {
    "smileys": [
        { emoji: "😀", name: "grinning face" },
        { emoji: "😃", name: "grinning face with big eyes" },
        { emoji: "😄", name: "grinning face with smiling eyes" },
        { emoji: "😁", name: "beaming face with smiling eyes" },
        { emoji: "😅", name: "grinning face with sweat" },
        { emoji: "😂", name: "face with tears of joy" },
        { emoji: "🤣", name: "rolling on the floor laughing" },
        { emoji: "😊", name: "smiling face with smiling eyes" },
        { emoji: "😇", name: "smiling face with halo" },
        { emoji: "🙂", name: "slightly smiling face" },
        { emoji: "🙃", name: "upside-down face" },
        { emoji: "😉", name: "winking face" },
        { emoji: "😌", name: "relieved face" },
        { emoji: "😍", name: "smiling face with heart-eyes" },
        { emoji: "🥰", name: "smiling face with hearts" },
        { emoji: "😘", name: "face blowing a kiss" },
        { emoji: "😗", name: "kissing face" },
        { emoji: "😙", name: "kissing face with smiling eyes" },
        { emoji: "😚", name: "kissing face with closed eyes" },
        { emoji: "😋", name: "face savoring food" },
        { emoji: "😛", name: "face with tongue" },
        { emoji: "😝", name: "squinting face with tongue" },
        { emoji: "😜", name: "winking face with tongue" },
        { emoji: "🤪", name: "zany face" },
        { emoji: "🤨", name: "face with raised eyebrow" },
        { emoji: "🧐", name: "face with monocle" },
        { emoji: "🤓", name: "nerd face" },
        { emoji: "😎", name: "smiling face with sunglasses" },
        { emoji: "🤩", name: "star-struck" },
        { emoji: "🥳", name: "partying face" }
    ],
    "gestures": [
        { emoji: "👋", name: "waving hand" },
        { emoji: "🤚", name: "raised back of hand" },
        { emoji: "🖐️", name: "hand with fingers splayed" },
        { emoji: "✋", name: "raised hand" },
        { emoji: "🖖", name: "vulcan salute" },
        { emoji: "👌", name: "ok hand" },
        { emoji: "🤌", name: "pinched fingers" },
        { emoji: "🤏", name: "pinching hand" },
        { emoji: "✌️", name: "victory hand" },
        { emoji: "🤞", name: "crossed fingers" },
        { emoji: "🤟", name: "love-you gesture" },
        { emoji: "🤘", name: "sign of the horns" },
        { emoji: "🤙", name: "call me hand" },
        { emoji: "👈", name: "backhand index pointing left" },
        { emoji: "👉", name: "backhand index pointing right" },
        { emoji: "👆", name: "backhand index pointing up" },
        { emoji: "🖕", name: "middle finger" },
        { emoji: "👇", name: "backhand index pointing down" },
        { emoji: "👍", name: "thumbs up" },
        { emoji: "👎", name: "thumbs down" },
        { emoji: "✊", name: "raised fist" },
        { emoji: "👊", name: "oncoming fist" },
        { emoji: "🤛", name: "left-facing fist" },
        { emoji: "🤜", name: "right-facing fist" },
        { emoji: "👏", name: "clapping hands" },
        { emoji: "🙌", name: "raising hands" },
        { emoji: "🤝", name: "handshake" },
        { emoji: "🙏", name: "folded hands" },
        { emoji: "✍️", name: "writing hand" }
    ],
    "people": [
        { emoji: "👶", name: "baby" },
        { emoji: "👧", name: "girl" },
        { emoji: "🧒", name: "child" },
        { emoji: "👦", name: "boy" },
        { emoji: "👩", name: "woman" },
        { emoji: "🧑", name: "person" },
        { emoji: "👨", name: "man" },
        { emoji: "👩‍🦱", name: "woman with curly hair" },
        { emoji: "👨‍🦱", name: "man with curly hair" },
        { emoji: "👩‍🦰", name: "woman with red hair" },
        { emoji: "👨‍🦰", name: "man with red hair" },
        { emoji: "👱‍♀️", name: "blonde woman" },
        { emoji: "👱‍♂️", name: "blonde man" },
        { emoji: "👩‍🦳", name: "woman with white hair" },
        { emoji: "👨‍🦳", name: "man with white hair" },
        { emoji: "👩‍🦲", name: "woman bald" },
        { emoji: "👨‍🦲", name: "man bald" },
        { emoji: "🧔‍♀️", name: "woman beard" },
        { emoji: "🧔‍♂️", name: "man beard" },
        { emoji: "👴", name: "old man" },
        { emoji: "👵", name: "old woman" },
        { emoji: "👲", name: "man with gua pi mao" },
        { emoji: "👳‍♀️", name: "woman with headscarf" },
        { emoji: "👳‍♂️", name: "man with turban" },
        { emoji: "🧕", name: "woman with headscarf" },
        { emoji: "👮‍♀️", name: "woman police officer" },
        { emoji: "👮‍♂️", name: "man police officer" },
        { emoji: "👷‍♀️", name: "woman construction worker" },
        { emoji: "👷‍♂️", name: "man construction worker" }
    ],
    "animals": [
        { emoji: "🐶", name: "dog face" },
        { emoji: "🐱", name: "cat face" },
        { emoji: "🐭", name: "mouse face" },
        { emoji: "🐹", name: "hamster" },
        { emoji: "🐰", name: "rabbit face" },
        { emoji: "🦊", name: "fox" },
        { emoji: "🐻", name: "bear" },
        { emoji: "🐼", name: "panda" },
        { emoji: "🐨", name: "koala" },
        { emoji: "🐯", name: "tiger face" },
        { emoji: "🦁", name: "lion" },
        { emoji: "🐮", name: "cow face" },
        { emoji: "🐷", name: "pig face" },
        { emoji: "🐸", name: "frog" },
        { emoji: "🐵", name: "monkey face" },
        { emoji: "🙈", name: "see no evil monkey" },
        { emoji: "🙉", name: "hear no evil monkey" },
        { emoji: "🙊", name: "speak no evil monkey" },
        { emoji: "🐔", name: "chicken" },
        { emoji: "🐧", name: "penguin" },
        { emoji: "🐦", name: "bird" },
        { emoji: "🐤", name: "baby chick" },
        { emoji: "🐣", name: "hatching chick" },
        { emoji: "🐥", name: "front facing chick" },
        { emoji: "🦆", name: "duck" },
        { emoji: "🦅", name: "eagle" },
        { emoji: "🦉", name: "owl" },
        { emoji: "🦇", name: "bat" },
        { emoji: "🐺", name: "wolf face" },
        { emoji: "🐗", name: "boar" }
    ],
    "food": [
        { emoji: "🍎", name: "red apple" },
        { emoji: "🍐", name: "pear" },
        { emoji: "🍊", name: "tangerine" },
        { emoji: "🍋", name: "lemon" },
        { emoji: "🍌", name: "banana" },
        { emoji: "🍉", name: "watermelon" },
        { emoji: "🍇", name: "grapes" },
        { emoji: "🍓", name: "strawberry" },
        { emoji: "🫐", name: "blueberries" },
        { emoji: "🍈", name: "melon" },
        { emoji: "🍒", name: "cherries" },
        { emoji: "🍑", name: "peach" },
        { emoji: "🥭", name: "mango" },
        { emoji: "🍍", name: "pineapple" },
        { emoji: "🥝", name: "kiwi fruit" },
        { emoji: "🍅", name: "tomato" },
        { emoji: "🍆", name: "eggplant" },
        { emoji: "🥑", name: "avocado" },
        { emoji: "🥦", name: "broccoli" },
        { emoji: "🥬", name: "leafy green" },
        { emoji: "🥒", name: "cucumber" },
        { emoji: "🌶", name: "hot pepper" },
        { emoji: "🌽", name: "corn" },
        { emoji: "🥕", name: "carrot" },
        { emoji: "🧄", name: "garlic" },
        { emoji: "🧅", name: "onion" },
        { emoji: "🥔", name: "potato" },
        { emoji: "🍠", name: "roasted sweet potato" },
        { emoji: "🥐", name: "croissant" }
    ]
};

// Initialize emoji functionality
function initEmojiButtons() {
    const emojiButtons = document.querySelectorAll('.emoji-btn');
    const postInputs = document.querySelectorAll('.create-post input[type="text"]');

    emojiButtons.forEach((button, index) => {
        // Create a container for the emojis
        const emojiContainer = document.createElement('div');
        emojiContainer.className = 'emoji-container';
        emojiContainer.style.display = 'none';
        emojiContainer.style.position = 'absolute';
        emojiContainer.style.top = '100%';
        emojiContainer.style.left = '0';
        emojiContainer.style.background = 'white';
        emojiContainer.style.borderRadius = '8px';
        emojiContainer.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
        emojiContainer.style.padding = '10px';
        emojiContainer.style.maxHeight = '300px';
        emojiContainer.style.width = '300px';
        emojiContainer.style.overflowY = 'auto';
        emojiContainer.style.zIndex = '1000';
        emojiContainer.style.border = '1px solid #e4e6eb';
        emojiContainer.style.marginTop = '5px';

        // Add all emojis to the container
        Object.values(emojiData).flat().forEach(emoji => {
            const emojiButton = document.createElement('button');
            emojiButton.className = 'emoji-button';
            emojiButton.innerHTML = emoji.emoji;
            emojiButton.title = emoji.name;
            emojiButton.style.padding = '8px';
            emojiButton.style.border = 'none';
            emojiButton.style.background = 'none';
            emojiButton.style.cursor = 'pointer';
            emojiButton.style.fontSize = '20px';
            emojiButton.style.borderRadius = '4px';
            emojiButton.style.display = 'inline-block';
            emojiButton.style.width = '40px';
            emojiButton.style.height = '40px';
            emojiButton.style.textAlign = 'center';
            emojiButton.style.lineHeight = '40px';
            emojiButton.addEventListener('mouseover', () => {
                emojiButton.style.backgroundColor = '#e4e6eb';
            });
            emojiButton.addEventListener('mouseout', () => {
                emojiButton.style.backgroundColor = 'transparent';
            });
            emojiButton.addEventListener('click', () => {
                const postInput = postInputs[index];
                if (postInput) {
                    const start = postInput.selectionStart;
                    const end = postInput.selectionEnd;
                    const text = postInput.value;
                    postInput.value = text.substring(0, start) + emoji.emoji + text.substring(end);
                    postInput.selectionStart = postInput.selectionEnd = start + emoji.emoji.length;
                    postInput.focus();
                }
                emojiContainer.style.display = 'none';
            });
            emojiContainer.appendChild(emojiButton);
        });

        // Add the container to the button's parent
        button.parentNode.appendChild(emojiContainer);

        // Toggle emoji container on button click
        button.addEventListener('click', (e) => {
            e.stopPropagation();
            const isVisible = emojiContainer.style.display === 'block';
            emojiContainer.style.display = isVisible ? 'none' : 'block';
        });

        // Close emoji container when clicking outside
        document.addEventListener('click', (e) => {
            if (!emojiContainer.contains(e.target) && e.target !== button) {
                emojiContainer.style.display = 'none';
            }
        });
    });
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', initEmojiButtons); 